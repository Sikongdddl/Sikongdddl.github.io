<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>program on Sikongdddl的博客</title><link>https://Sikongdddl.github.io/categories/program/</link><description>Recent content in program on Sikongdddl的博客</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 17 Oct 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://Sikongdddl.github.io/categories/program/index.xml" rel="self" type="application/rss+xml"/><item><title>全栈部署技术整理</title><link>https://Sikongdddl.github.io/p/%E5%85%A8%E6%A0%88%E9%83%A8%E7%BD%B2%E6%8A%80%E6%9C%AF%E6%95%B4%E7%90%86/</link><pubDate>Thu, 17 Oct 2024 00:00:00 +0000</pubDate><guid>https://Sikongdddl.github.io/p/%E5%85%A8%E6%A0%88%E9%83%A8%E7%BD%B2%E6%8A%80%E6%9C%AF%E6%95%B4%E7%90%86/</guid><description>&lt;h2 id="前言">前言
&lt;/h2>&lt;p>2022年的暑假项目里，摆了全程没有帮到忙的我接下了最后一个部分的工作：部署。那次花了我三周的时间，最后在我的两位dalao朋友的帮助下顺利完成。&lt;/p>
&lt;p>2024年的某个下午，我被赶鸭子上架，需要重新部署一遍自己的某个项目，从买服务器开始算起一共花了三个小时。&lt;/p>
&lt;p>技术不能带给我足够的刺激正是因为如此，第二次做需要花费的时间和精力往往不及第一次的十分之一。&lt;/p>
&lt;h2 id="web技术栈简介">web技术栈简介
&lt;/h2>&lt;p>部署的本质是把程序从运行在自己的电脑上，转为运行在服务器上。这个话说出来有点像讲脱口秀了，因为这个需求看起来真的很好笑。但至少在以下场合有实际意义：&lt;/p>
&lt;ul>
&lt;li>只有服务器的性能才能满足实际需求，不会真的有人觉得自己的电脑运行12316可以让大家在春运的时候抢到火车票吧&lt;/li>
&lt;li>自己的机器没有公网IP，无法被直接访问，又不敢去玩内网穿透那一套东西&lt;/li>
&lt;li>甲方要求你这样做（雾）&lt;/li>
&lt;/ul>
&lt;p>当你流畅的网上冲浪，访问一个又一个网站时，这背后发生着一系列精巧的事情，我将一一介绍这些环节，并展示每一个环节在服务器上运行和在自己的机器上运行到底有什么不同。&lt;/p>
&lt;p>一个完整的web技术栈至少由前端、后端、数据库这三部分组成。叫“技术栈”是因为它们按顺序一个个叠起来才能完成一款web应用的功能，这很像一个栈结构。&lt;/p>
&lt;p>前端：&lt;/p>
&lt;blockquote>
&lt;p>负责渲染、展示数据&lt;/p>
&lt;p>由于更像美工，所以处在开发技术的鄙视链底端（雾）&lt;/p>
&lt;p>常用的开发语言与框架：html+css+javascript/react/vue&amp;hellip;&lt;/p>&lt;/blockquote>
&lt;p>后端：&lt;/p>
&lt;blockquote>
&lt;p>负责实现业务逻辑&lt;/p>
&lt;p>任重而道远，完成前端甲方的要求，并与数据库交互&lt;/p>
&lt;p>常用的开发语言与框架：java/c#/golang，以及世界上最好的语言：PHP&lt;/p>&lt;/blockquote>
&lt;p>数据库：&lt;/p>
&lt;blockquote>
&lt;p>负责存数据&lt;/p>
&lt;p>有人就要爆笑如雷，说为什么我不能用excel存数据非要用数据库呢&lt;/p>
&lt;p>常用的开发语言与框架：excel（不是）/mysql/redis/innoDB/mangoDB&amp;hellip;&lt;/p>&lt;/blockquote>
&lt;p>形象地说，当你按下“登录微信”时，前端/后端/数据库是这样工作的：&lt;/p>
&lt;ul>
&lt;li>前端：向后端发送登录请求，将用户名和密码交给后端&lt;/li>
&lt;li>后端：在数据库中查询用户名和密码是否匹配，返回给前端匹配结果&lt;/li>
&lt;li>前端：根据匹配结果渲染登陆成功页面或登陆失败页面&lt;/li>
&lt;/ul>
&lt;h2 id="数据库部署">数据库部署
&lt;/h2>&lt;p>服务器数据库安装+远程连接（强烈推荐）
把大象放进冰箱 啊不是 把数据库放在服务器中总共分三步：下载，运行，维护数据。
没有使用过任何一种数据库，或者想问存数据为什么不用excel的同学可以关掉了，后面的笑点你可能get不到~&lt;/p>
&lt;h3 id="下载">下载：
&lt;/h3>&lt;p>当服务器了就看清楚自己要下的是不是服务端，以用的人非常多的关系型数据库mysql为例，在ubuntu中mysql-server是我们需要的数据库服务器，而apt install mysql推荐的mysql-client-balabala不能上桌。&lt;/p>
&lt;p>如果你使用的是另一种操作系统（windows除外），或另一种数据库，那么请去stack overflow上搜索“xx系统 xx服务器安装” 然后点开第一条帖子按顺序做。&lt;/p>
&lt;h3 id="运行">运行：
&lt;/h3>&lt;p>虽然伟大的操作系统（如ubuntu）知道数据库应该一直运行，但有些不那么伟大的操作系统（如windows）并不知道，所以请谨慎仔细地检查你的数据库正在工作。不要一会登陆不上，一会连接失败，到处搜bug改配置文件越弄越乱。&lt;/p>
&lt;p>在伟大的ubuntu中，可以通过systemctl status mysql来查看。如果你的操作系统不是伟大的ubuntu，也不是windows，那么你可以尝试把‘systemsctl’换掉，或者不用换。如果你的数据库不是mysql，那么你可以尝试把‘mysql’换掉。换成什么请参考stack overflow。&lt;/p>
&lt;h3 id="维护数据">维护数据：
&lt;/h3>&lt;p>我相信很多人使用数据库时，手头已经有了一些数据需要放进去。这可能是之前的遗留数据，也可能是项目的启动数据。除非你想在往往没有图形化界面的服务器中一句一句写SQL，化身非洲民工时薪高达0.4$，否则请认真使用伟大的自动生成脚本功能。&lt;/p>
&lt;p>绝大多数的主流数据库支持从数据表自动生成建表语句，如果你的数据格式并不是非常整齐，也可以借助伟大的生成式人工智能：谈天吉皮提来让它非常整齐。mysql有强大的mysqldump，几乎可以满足所有场合的数据-SQL转换需求。其它数据库请自行参考stack overflow。&lt;/p>
&lt;h3 id="远程连接">远程连接：
&lt;/h3>&lt;p>众所周知啊，分三步的东西都有四步（雾）。事实上以上三步足以对服务器数据库进行使用和维护，但强烈推荐大家进行远程连接。现行的数据库可视化集成开发环境（如Navicat(交大邮箱激活免费使用一年)、Datagrip（jetbrain家的，交大邮箱激活免费使用一辈子））的强大超乎你的想象，可以十倍百倍的提升效率。&lt;/p>
&lt;p>需要注意的是，mysql数据库默认禁止一切非localhost用户的访问，想远程连接mysql数据库，你往往需要：&lt;/p>
&lt;ul>
&lt;li>打开访问ip限制（请去stack overflow）&lt;/li>
&lt;li>确保用户名和密码可以登录mysql（请去stack overflow，并注意mysql8的密码机制与过往版本不同，不要念错了经）&lt;/li>
&lt;li>确保服务器防火墙打开了mysql的端口（如果你的mysql密码过分脆弱（如123456），请绝对不要在使用复杂密码前这么做，否则早晚你的数据库会被扫描机扫进来删库勒索。）&lt;/li>
&lt;/ul>
&lt;h2 id="后端部署">后端部署
&lt;/h2>&lt;p>把小象放进冰箱里一共也分三步：打包，运行，报错之后悲鸣&lt;/p>
&lt;h3 id="打包">打包：
&lt;/h3>&lt;p>除非你想把整个后端项目（这往往有几个G）都拖到服务器上运行和调试，否则先生成它的可执行版本绝对是正确的选择。
java在这件事上得天独厚，jar包内包括了完整的java运行环境，可以在绝大多数系统中运行。而java的主流框架（如springboot）常常整合了maven，让打包这件事变成了一键式的傻瓜操作。如果你使用的语言不是java，请参考stack overflow用其他方式完成打包这件事。&lt;/p>
&lt;h3 id="运行-1">运行
&lt;/h3>&lt;p>如果你们服务器的上行带宽足够大，把整个项目挪到服务器里运行也并不是一件特别让人难接受的事，就是有点不优雅。从这个意义上，如果不追求优雅，后端的部署是相对最容易的。&lt;/p>
&lt;p>对java来说，如果你的服务器中是一个jar包，那么你只需要java -jar运行它。对其它语言，当只能使用命令行时，在服务器内配置它的运行环境有时是一件让人抓狂的事，尤其是许多时候，各种版本之间复杂的依赖关系无法从报错中体现出来，需要更多的耐心。&lt;/p>
&lt;h3 id="悲鸣">悲鸣
&lt;/h3>&lt;p>由于后端项目需要与数据库非常频繁的交互，因此部署后端时看到花花绿绿的报错实在是再正常不过了。任何一个正常的人在抗压能力不那么强时，看到它们都会悲鸣。我曾经在这里卡了三天后，于项目晨会中大声悲鸣，并被助教和朋友共同安慰。&lt;/p>
&lt;p>有效制止悲鸣的办法是分解任务，比如：&lt;/p>
&lt;ul>
&lt;li>1.悲鸣，累了就不鸣了&lt;/li>
&lt;li>2.狞笑（划掉）&lt;/li>
&lt;li>2.如果使用了orm映射，认认真真比较后端中的表名、字段名、数据类型等与数据库中是否对应。注意是对应，不是一致。以java为例，JPA后端需要严格遵循驼峰命名，但mysql表的字段名需要严格遵循下划线命名。任何一张表的任何一个字段的任何一处没有对应上都无法被容忍。&lt;/li>
&lt;li>3.在后端开发的过程中频繁使用postman在本地测试，不要写一千行代码之后自信满满的部署上去，一起debug。不要允许一些自己都不完全理解的代码存在于你的项目中。&lt;/li>
&lt;/ul>
&lt;p>Anything you can&amp;rsquo;t create, You don&amp;rsquo;t understand.&lt;/p>
&lt;h3 id="docker">Docker
&lt;/h3>&lt;p>这同样是一个没有必要做，却可以极大提高生产力的工具。&lt;/p>
&lt;p>显而易见的是，对不同的开发环境，不同的服务器系统来说，配置环境总是一件让人崩溃的事。尤其是需要在同一台机器上存在多个环境时，它们之间的交互也让人生畏。Docker基于这种需求场景诞生。只要你配好了docker，你就再也不用配置环境了。&lt;/p>
&lt;p>需要注意的是，docker的不同容器之间有强隔离，因此请务必认真学习容器间通信后再进行使用。不要搞出把后端和服务器分别放在两个容器中，然后想不明白后端为什么找不到服务器这种笑话。&lt;/p>
&lt;h2 id="前端部署">前端部署
&lt;/h2>&lt;p>忙完这么一通之后，恭喜你已经离成功不远啦，最后一步要做的就是将前端也丢在服务器中运行。
这里就不把大象放在冰箱里了，因为几乎所有的“前端部署”都是通过反向代理完成的，而nginx是无人能出其右的反向代理技术。&lt;/p>
&lt;p>想说明白反向代理是什么，就要说明白正向代理是什么，就要先说明白代理是什么。&lt;/p>
&lt;p>有时我们无法直接访问一个网页，就像我们不能直接买到海外的产品一样，此时代理的作用跟代购基本是一样的。
正向代理指的是你知道自己要访问的代理服务器在哪里，比如你找一个在日本留学的朋友帮你买正版EVA漫画，那么这个朋友就是你的正向代理，而EVA漫画是你本来想要访问的目标。&lt;/p>
&lt;p>反向代理指的是你只知道你想买EVA，却不知道自己有哪个朋友在日本留学，EVA主动联系了一位日本友人明日香把漫画书送到你的手上（雾）。&lt;/p>
&lt;p>nginx就是这样的技术，我们的前端部署也是基于此实现的。当你访问服务器中被绑定好的IP时，你的终点会被nginx截获，并自动反向代理到你提前设置好的另一个界面中，这个设置好的界面当然就是你想部署的前端。&lt;/p>
&lt;p>nginx的基本使用和语法非常简单，大家去stack overflow一学就会。但大部分linux系统中，nginx有一些重要的坑，请大家小心检查自己有没有掉到坑里：&lt;/p>
&lt;ul>
&lt;li>nginx的配置文件一般是/etc/nginx/nginx.conf 但nginx.conf常常因为各种原因解析失败，此时会调用另一个配置文件/etc/nginx/sites-enabled/default。在这个文件中配置也可以完成代理。需要小心的是，更新页面文件或配置文件后请执行nginx -s reload和systemctl restart nginx。&lt;/li>
&lt;li>如果发现前端可以访问到，但在任何路由跳转后都直接返回404，这多半是前端框架的路由是通过history.push(/)实现的，偶尔会需要解析/index/html这个界面，而nginx默认的配置页是index.html，解决办法是在try files跳转到404页面前加入一条/index.html规则。&lt;/li>
&lt;/ul>
&lt;p>以上就是全部的部署过程。实际的部署也都是按照这个顺序进行。
这个顺序是为了定位问题。因为数据库出了问题只可能是数据库自己的问题；所以我们先部署数据库；
后端出了问题可能是后端或数据库的问题，所以我们在确定数据库正常工作后，可以部署后端；
前端出了问题有可能是任何地方的问题，所以我们最后部署前端。&lt;/p>
&lt;p>当我第一次清理掉本地所有的应用程序，在浏览器中输入一个地址后正常访问着项目没有任何阻碍时，一种奇妙的，无法在任何地方体会到的自由感拥抱了我。我们部署的内容也许是自己的玩具，也许是甲方的需求，也许是真正解决着实际问题的重要项目。不管它是什么，它离互联网上那些形形色色的网站，只差花三十五块买一个域名了。&lt;/p>
&lt;p>做到后记得恭喜自己攻克了一个领域，从此面对部署任务时请习惯被当作经验丰富的专家对待（）。&lt;/p>
&lt;p>————司空&lt;/p></description></item><item><title>16组星火营项目文档</title><link>https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/</link><pubDate>Sat, 19 Aug 2023 00:00:00 +0000</pubDate><guid>https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/</guid><description>&lt;h1 id="sikongdddl的文档">Sikongdddl的文档
&lt;/h1>&lt;h2 id="环境相关">环境相关
&lt;/h2>&lt;h3 id="python">python
&lt;/h3>&lt;h3 id="go">go
&lt;/h3>&lt;h2 id="项目相关">项目相关
&lt;/h2>&lt;p>github repo地址：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/Sikongdddl/SparkPlugin16" target="_blank" rel="noopener"
>https://github.com/Sikongdddl/SparkPlugin16&lt;/a>&lt;/p>
&lt;h3 id="架构">架构
&lt;/h3>&lt;blockquote>
&lt;p>前端：&lt;/p>&lt;/blockquote>
&lt;p>输入：用户纯文本输入 原始问题input&lt;/p>
&lt;p>输出：经过整个系统后最终的输出 response+prompt&lt;/p>
&lt;p>工作内容:把input送给一级后端&lt;/p>
&lt;blockquote>
&lt;p>一级后端：&lt;/p>&lt;/blockquote>
&lt;p>输入：来自前端的用户原始问题input&lt;/p>
&lt;p>输出：经过代码润色过的input+prompt&lt;/p>
&lt;p>工作内容：&lt;/p>
&lt;p>任务一：&lt;/p>
&lt;p>简易版：&lt;/p>
&lt;p>二级后端只有一个插件API，把润色过的input+prompt直接发给二级后端；&lt;/p>
&lt;p>复杂版：做分词提取+选择插件API工作 并把input+prompt发送给二级后端中对应的插件API&lt;/p>
&lt;p>任务二：&lt;/p>
&lt;p>从二级后端收到response后 润色生成response+prompt 输入给星火大模型生成回答&lt;/p>
&lt;blockquote>
&lt;p>二级后端：&lt;/p>&lt;/blockquote>
&lt;p>输入：来自一级后端的input+prompt&lt;/p>
&lt;p>输出：根据输入信息进行对应内容输出 生成response（json格式）&lt;/p>
&lt;p>工作内容：&lt;/p>
&lt;p>把生成的json丢给一级后端&lt;/p>
&lt;p>&lt;img src="https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image-1.png"
width="1186"
height="738"
srcset="https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image-1_hu_e7e62200dae76026.png 480w, https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image-1_hu_85a8edda9772e0aa.png 1024w"
loading="lazy"
alt="架构"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="385px"
>&lt;/p>
&lt;h3 id="项目管理风格加分点">“项目管理风格”加分点：
&lt;/h3>&lt;blockquote>
&lt;p>晨会&lt;/p>&lt;/blockquote>
&lt;p>每天开个15min小会 每个人介绍一下以下内容：&lt;/p>
&lt;ul>
&lt;li>昨天做了什么&lt;/li>
&lt;li>今天要做什么&lt;/li>
&lt;li>昨天遇到了什么问题自己有点难解决&lt;/li>
&lt;/ul>
&lt;p>做好会议记录 其实一共也就五天的时间 五场会&lt;/p>
&lt;h4 id="20230820开发记录">20230820开发记录
&lt;/h4>&lt;p>雷逸 陆朋朋：前端Vue页面搭建完成&lt;/p>
&lt;p>董雨康 宋奕辰 刘非凡：第一后端打通天气API中 从命令行输入问题，根据关键词选择API 生成可以提问的json问星火大模型 已经调通&lt;/p>
&lt;p>宋：从高德API获得json&lt;/p>
&lt;p>刘非凡：把json润色后返回星火大模型 让大模型返回文本语言&lt;/p>
&lt;p>董：整合代码 插件落槽部分&lt;/p>
&lt;p>宫俊儒：第二后端完成天气API和星火大模型API需要的json格式化工作和相关接口准备&lt;/p>
&lt;h4 id="20230821开发记录">20230821开发记录
&lt;/h4>&lt;p>宫俊儒：“藏头诗”prompt调试 准备去开发前端&lt;/p>
&lt;p>刘非凡：食谱API后端独立单元开发完成 正在往框架里整合&lt;/p>
&lt;p>董雨康：LAVIS图片-&amp;gt;文字描述-&amp;gt;星火-&amp;gt;得到菜名和制作步骤&lt;/p>
&lt;p>宋奕辰：rebuttal很快就能搞定 写诗的&lt;/p>
&lt;p>雷逸 陆朋朋：页面事件基本完成 渲染还没做&lt;/p>
&lt;h4 id="20230822开发记录">20230822开发记录
&lt;/h4>&lt;p>宫俊儒：前端+前后端通信 明天预计做一下部署&lt;/p>
&lt;p>宋奕辰：后端整合完善 图片接口功能完备 角色扮演prompt翻译导游讲故事&lt;/p>
&lt;blockquote>
&lt;p>github repo&lt;/p>&lt;/blockquote>
&lt;p>每个feature开一个branch&lt;/p>
&lt;p>具体来说：前端单独一个branch；后端单独一个branch；调prompt的json和yaml单独一个branch
自己负责的任务基本完成可以提交后，向我们的主分支发送一个pull request 审批后并入主分支
这样我们的开发过程就会有一个类似这样的图：&lt;/p>
&lt;p>&lt;img src="https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image.png"
width="840"
height="791"
srcset="https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image_hu_4b0c8c0cf227531.png 480w, https://Sikongdddl.github.io/p/16%E7%BB%84%E6%98%9F%E7%81%AB%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3/image_hu_35f5d3908897d462.png 1024w"
loading="lazy"
alt="仓库网络图"
class="gallery-image"
data-flex-grow="106"
data-flex-basis="254px"
>&lt;/p>
&lt;p>十分滴好看&lt;/p>
&lt;blockquote>
&lt;p>文档&lt;/p>&lt;/blockquote>
&lt;p>我们这个文档本身就是个很大的加分点
后面最好还是大家都来参与一些编写工作 记录一下自己的开发日志之类的&lt;/p>
&lt;h3 id="分工">分工
&lt;/h3>&lt;p>陆朋朋 雷逸 前端网站开发&lt;/p>
&lt;p>宫俊儒 二级后端开发 架构&lt;/p>
&lt;p>宋奕辰 刘非凡 董雨康 一级后端开发（天气插件开发）&lt;/p>
&lt;p>宋奕辰 宫俊儒 Rebuttal插件开发&lt;/p>
&lt;p>刘非凡 董雨康 食谱插件开发&lt;/p>
&lt;h3 id="推荐技术">推荐技术
&lt;/h3>&lt;h3 id="其他一些有的没的">其他一些有的没的
&lt;/h3>&lt;h3 id="airport-list">airport list
&lt;/h3>&lt;p>这个事儿要冒着被墙或者喝茶的风险&lt;/p>
&lt;p>因为自己翻墙是违法行为，但是不违反刑法。但传播扩散机场的性质和自己翻墙不一样，可以判煽动颠覆，3-7年。&lt;/p>
&lt;p>大家觉得自己机场不太稳定/有点贵可以来问我要一个两年90块的机场地址（笑）&lt;/p>
&lt;p>1-&amp;gt;第三组 86.75&lt;/p>
&lt;p>2-&amp;gt;十五组 86.25&lt;/p>
&lt;p>3-&amp;gt;十二组 85.75&lt;/p>
&lt;p>4-&amp;gt;第二组 84.5&lt;/p>
&lt;p>5-&amp;gt;第八组 83.5&lt;/p>
&lt;p>6-&amp;gt;第十组 82.5&lt;/p>
&lt;p>7-&amp;gt;十三组 81.75&lt;/p>
&lt;p>8-&amp;gt;第五组 81.5&lt;/p>
&lt;p>9-&amp;gt;第四组 81&lt;/p>
&lt;p>10-&amp;gt;十一组 81&lt;/p>
&lt;p>11-&amp;gt;十六组 80.5&lt;/p>
&lt;p>12-&amp;gt;第七组 80.25&lt;/p>
&lt;p>13-&amp;gt;第六组 78.75&lt;/p>
&lt;p>14-&amp;gt;第一组 75.5&lt;/p>
&lt;p>15-&amp;gt;十四组 75.25&lt;/p>
&lt;p>16-&amp;gt;第九组 75&lt;/p></description></item><item><title>2023科大讯飞星火营日志</title><link>https://Sikongdddl.github.io/p/2023%E7%A7%91%E5%A4%A7%E8%AE%AF%E9%A3%9E%E6%98%9F%E7%81%AB%E8%90%A5%E6%97%A5%E5%BF%97/</link><pubDate>Mon, 14 Aug 2023 00:00:00 +0000</pubDate><guid>https://Sikongdddl.github.io/p/2023%E7%A7%91%E5%A4%A7%E8%AE%AF%E9%A3%9E%E6%98%9F%E7%81%AB%E8%90%A5%E6%97%A5%E5%BF%97/</guid><description>&lt;h2 id="写在前面">写在前面：
&lt;/h2>&lt;p>签了保密协议 代码 讲座内容和相关联系方式不能说&lt;/p>
&lt;p>这边博客更新的内容应该都只是些流水帐吧&lt;/p>
&lt;h2 id="8月14日">8月14日
&lt;/h2>&lt;p>和组里朋友@ycsong一起过来的&lt;/p>
&lt;p>三点半抵达800一晚的酒店
晚饭去附近的商场解决 六点回到酒店没绷住 睡了一个小时&lt;/p>
&lt;p>晚上syc配了两个小时的交大VPN（笑）&lt;/p>
&lt;p>明天上午没有安排活动 有点期待这边的早餐午餐了&lt;/p>
&lt;p>有继续在失眠 算上傍晚补的一觉一共睡了五个半小时吧&lt;/p>
&lt;h2 id="8月15日">8月15日
&lt;/h2>&lt;p>早餐出乎意料的丰盛&lt;/p>
&lt;p>下午拉去看发布会，总的来说没什么新鲜技术，但是至少算是一份及格的答卷了&lt;/p>
&lt;p>这也让我开始思考 中国的审查环境有没有可能允许真正的llm出现 虽然这和我自己的研究方向可谓是风马牛不相及（笑）&lt;/p>
&lt;p>看完发布会被拉去吃晚餐 依旧是丰盛的自助 然后尬尬的玩了俩小时莫名其妙的游戏 还上去输掉了一局先手必胜的游戏，我是先手（笑） 这个游戏有空了可以写一篇儿&lt;/p>
&lt;p>明天好像要从早通勤到晚，上午一段参观 一节课 下午两节课 晚上团建&lt;/p>
&lt;p>我不知道自己还有没有这么多精力可以挥霍了&lt;/p>
&lt;p>十点多了，读会儿书，洗洗睡了。&lt;/p>
&lt;h2 id="8月16日">8月16日
&lt;/h2>&lt;p>昨天睡了个好觉&lt;/p>
&lt;p>上午开营仪式 然后一天上了三节课&lt;/p>
&lt;p>总的来说比较水 讲课的风格属于那种会的不用听，不会的听了也不懂的类型（笑&lt;/p>
&lt;p>讯飞的食堂特别挤，倒是没有很难吃。电梯特别挤，而且高峰区不停低层，爬了好多楼。&lt;/p>
&lt;p>希望明天讲点干货吧 有点浪费时间&lt;/p>
&lt;p>晚上玩的还挺开心 没想到（笑&lt;/p>
&lt;p>但是没有交到朋友（笑 不知道明天分组怎么办 看起来一组要七八个人的样子（笑&lt;/p>
&lt;p>随便吧 忙的时候是不会焦虑的&lt;/p>
&lt;h2 id="8月17日-8月18日">8月17日 8月18日
&lt;/h2>&lt;p>日程被排的满而不科学&lt;/p>
&lt;p>十七号正经996了一天，浪费一整天的时间听大课+BOSS直聘；十八号一天做了两天的工作，忙到十二点四十回酒店&lt;/p>
&lt;p>这两天小宋的手要准备拆线了 加上有些感冒 应该准备要回家了 不看在老板的面子上我也不会在这里继续工作啦&lt;/p>
&lt;p>熟悉我的朋友应该知道我这人最讨厌拿工作时间体现工作量，所以很反感这种单纯压榨大家时间的企业文化&lt;/p>
&lt;p>不过也有好消息，至少认识了几个新朋友吧 尤其跟吕亮大哥挺聊得来的 工作了两三年后再回来读博真的是挺有勇气的事吧 他也提醒我也许真的可以慢一点 或者快到底 申个港校/新加坡的全奖PHD试试&lt;/p>
&lt;p>讽刺的是时至今日我才走到一个我觉得自己也许配，也知道自己确实配的十字路口当中，但从前的那些执念和失落都已经变成灰色烟消云散了。&lt;/p>
&lt;p>不出来是永远不会看到人生有多少种可能的&lt;/p>
&lt;p>看到浙大的同学因为和组里的朋友工作意见不统一，分歧比较大，大吵特吵一架，我好像才意识到也许自己离一个只懂技术不懂管理的人还有些距离&lt;/p>
&lt;p>长久以来我的眼里没有任何一个失意的人，或者说我选择性的不去把他们放在眼里&lt;/p>
&lt;p>我这人没什么平民意识，经常喜欢说的话是“我不会看不起别人，我只是看不到他们”，现在发现看得到他们是更难做到的，更有好处的，更利于自身长远发展的，也更自然的。&lt;/p>
&lt;p>但我会改变自己吗？&lt;/p>
&lt;p>我好像也不会。&lt;/p>
&lt;p>如果不是今天过劳，我都不会写下这些文字。&lt;/p>
&lt;p>从自己下定决心只依赖自己后，转眼已经快要四年。我终究已经回不到那个对痛苦没有想象力的状态了。&lt;/p>
&lt;p>今天按理应该是比较开心的，但我好像只是表面上被调动了起来，或者去为了调动别人做做样子罢了。&lt;/p>
&lt;p>我只是真的有些厌倦了 不那么想继续了&lt;/p>
&lt;p>欲买桂花同载酒，终不似少年游&lt;/p>
&lt;p>2023/8/19 司空 凌晨于合肥乐富强酒店18楼&lt;/p></description></item><item><title>1+1+1+1游戏</title><link>https://Sikongdddl.github.io/p/1-1-1-1%E6%B8%B8%E6%88%8F/</link><pubDate>Thu, 03 Aug 2023 00:00:00 +0000</pubDate><guid>https://Sikongdddl.github.io/p/1-1-1-1%E6%B8%B8%E6%88%8F/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>我小的时候玩过这样的一个游戏：&lt;/p>
&lt;p>两个人面对面，伸出双手做“1”的手势，然后依次行动&lt;/p>
&lt;p>每次行动时，用自己的一只手碰对方的一只手，并把自己这只手上的数字变成二者的和&lt;/p>
&lt;p>如果和为10 就把这一只手放下&lt;/p>
&lt;p>率先放下两只手的人获胜&lt;/p>
&lt;p>我小的时候在想，这个游戏的背后是否有某种最优策略？其中的“标准解法”和对应的数学模型又该如何得到呢？&lt;/p>
&lt;p>如今我拥有了扎实的代码水平和不扎实的数学基础，决定来对这个儿时的问题进行一些深入研究。&lt;/p>
&lt;h2 id="工欲善其事必先利其器">工欲善其事，必先利其器
&lt;/h2>&lt;p>由于数学太烂，我的代码水平显著强于数学水平，想不明白就先用代码多玩几次，规律可能自己就出来了。&lt;/p>
&lt;p>所以我首先完成了这个游戏的一个简单的模拟器和日志输出&lt;/p>
&lt;blockquote>
&lt;p>强烈建议没玩过这个游戏的来和我玩一次 不然下面的东西可能会把人看晕&lt;/p>&lt;/blockquote>
&lt;p>下面为随机一次游戏的日志：其中，开始的四个数字代表两个人四只手的当前状态。&lt;/p>
&lt;p>顺序为：p1左手，p1右手，p2左手，p2右手&lt;/p>
&lt;blockquote>
&lt;p>轮数: 0&lt;/p>
&lt;p>1 1
1 1
p1行动
行动者使用右手
触碰对方左手&lt;/p>
&lt;p>轮数: 1&lt;/p>
&lt;p>1 2
1 1
p2行动
行动者使用左手
触碰对方左手&lt;/p>
&lt;p>轮数: 2&lt;/p>
&lt;p>1 2
2 1
p1行动
行动者使用左手
触碰对方右手&lt;/p>
&lt;p>轮数: 3&lt;/p>
&lt;p>2 2
2 1
p2行动
行动者使用左手
触碰对方右手&lt;/p>
&lt;p>轮数: 4&lt;/p>
&lt;p>2 2
4 1
p1行动
行动者使用左手
触碰对方右手&lt;/p>
&lt;p>轮数: 5&lt;/p>
&lt;p>3 2
4 1
p2行动
行动者使用右手
触碰对方左手&lt;/p>
&lt;p>轮数: 6&lt;/p>
&lt;p>3 2
4 4
p1行动
行动者使用右手
触碰对方左手&lt;/p>
&lt;p>轮数: 7&lt;/p>
&lt;p>3 6
4 4
p2行动
行动者使用右手
触碰对方右手&lt;/p>
&lt;p>轮数: 8&lt;/p>
&lt;p>3 6
4 0
p1行动
行动者使用右手
对方只有左手&lt;/p>
&lt;p>轮数: 9&lt;/p>
&lt;p>3 0
4 0
p2行动
行动者只有左手
对方只有左手&lt;/p>
&lt;p>轮数: 10&lt;/p>
&lt;p>3 0
7 0
p1行动
行动者只有左手
对方只有左手&lt;/p>
&lt;p>game over!&lt;/p>&lt;/blockquote>
&lt;h2 id="实验">实验
&lt;/h2>&lt;p>既然有了这样一个模拟器，让它帮我跑一些实验也就十分自然了。&lt;/p>
&lt;h3 id="统计模拟">统计模拟
&lt;/h3>&lt;p>我们高强度使用模拟器，让双方以完全随机的策略玩这个游戏几万次（CPU震怒），并在此过程中收集一些统计信息。&lt;/p>
&lt;blockquote>
&lt;p>显而易见的是，我们在进行大批量的实验前应该担心这个游戏是否存在”死局“，即两位游戏者陷入无论使用什么策略都无法结束的局面。&lt;/p>
&lt;p>直接说结论，在其中一人剩余两只手时，游戏最终一定会进入每人只剩一只手的局面，或者直接结束。&lt;/p>
&lt;p>在每人只剩一只手时，根据我过往的经验，这个游戏在某些时候会陷入无尽的循环。例如2遇到1，2先手时。有兴趣的朋友可以自己试一下。&lt;/p>
&lt;p>由于后续测得平均一局游戏的步数是27步左右，因此在这里我粗暴地认为，当一局游戏进行了200步还没有结束时，就视作已经陷入无尽循环流局，直接开始下一局。&lt;/p>&lt;/blockquote>
&lt;p>以下是实验结果：当我们认为超过200个episode为流局时数据如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">实验序号&lt;/th>
&lt;th style="text-align: center">先手获胜&lt;/th>
&lt;th style="text-align: center">后手获胜&lt;/th>
&lt;th style="text-align: center">流局&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">1&lt;/td>
&lt;td style="text-align: center">451&lt;/td>
&lt;td style="text-align: center">445&lt;/td>
&lt;td style="text-align: center">104&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">2&lt;/td>
&lt;td style="text-align: center">424&lt;/td>
&lt;td style="text-align: center">470&lt;/td>
&lt;td style="text-align: center">106&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">3&lt;/td>
&lt;td style="text-align: center">415&lt;/td>
&lt;td style="text-align: center">474&lt;/td>
&lt;td style="text-align: center">111&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">4（十倍样本）&lt;/td>
&lt;td style="text-align: center">4224&lt;/td>
&lt;td style="text-align: center">4685&lt;/td>
&lt;td style="text-align: center">1091&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">5（2000episode判定流局）&lt;/td>
&lt;td style="text-align: center">485&lt;/td>
&lt;td style="text-align: center">395&lt;/td>
&lt;td style="text-align: center">120&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>在前三次实验中，我们进行一千次游戏。
第四次实验为压力测试，进行了一万次游戏。
第五次实验为对照试验，将认为流局的标准从200步放宽到了2000步。&lt;/p>
&lt;p>这个结果非常的amazing啊！（毕导脸）&lt;/p>
&lt;p>平均来看，不流局的比赛中，平均每一局进行了27.5轮，这个游戏的节奏还是很快的，哪怕策略是随机的。&lt;/p>
&lt;blockquote>
&lt;p>因此跑这些实验消耗的时间还不及debug的一半（划掉&lt;/p>&lt;/blockquote>
&lt;p>除此之外，我们发现了两件奇怪的事：&lt;/p>
&lt;ul>
&lt;li>在完全随机决策的情况下，先手胜率明显低于后手。而当对随机的容忍足够高时，先手胜率又略高于后手。但流局概率基本稳定。&lt;/li>
&lt;li>这个游戏居然有高达百分之十的流局概率&lt;/li>
&lt;/ul>
&lt;p>其中，关于先手优胜问题，由于表现并不十分稳定，并没有吸引我足够多的注意力。&lt;/p>
&lt;p>但后者，关于流局这件事，深深的吸引了我。&lt;/p>
&lt;p>因此这篇博客从此正式跑偏，从研究最优策略转为研究流局问题。&lt;/p>
&lt;h3 id="流局">流局
&lt;/h3>&lt;p>只需要略微改动下代码，把流局的情况最后一幕拿出来观赏一下即可发现：&lt;/p>
&lt;p>所有流局情况同胚 属于这样一个循环之中：&lt;/p>
&lt;p>(2 1)-&amp;gt;[3 1]-&amp;gt;(3 4)-&amp;gt;[7 4]-&amp;gt;(7 1)-&amp;gt;[8 1]-&amp;gt;(8 9)-&amp;gt;[7 9]-&amp;gt;(7 6)-&amp;gt;[3 6]-&amp;gt;(3 9)-&amp;gt;[2 9]-&amp;gt;(2 1)&lt;/p>
&lt;p>其中，用小括号括起来表示左边先手，用中括号则反之&lt;/p>
&lt;p>乍一看好像没有什么规律，但我们可以对它进行一个简单的处理。
至于为什么要这么处理，我们后面再说~&lt;/p>
&lt;p>将所有右边先手的情况进行两个坐标的交换，并认为这是一次左边先手的情况，那么这是一种等价变换。
这是显然的，例如：&lt;/p>
&lt;blockquote>
&lt;p>(2 1)表示当前我的手比了个2，你的手比了个1，轮到我先动。&lt;/p>
&lt;p>[1 2]表示当前我的手比了个1，你的手比了个2，轮到你先动。&lt;/p>&lt;/blockquote>
&lt;p>变换后我们得到：&lt;/p>
&lt;blockquote>
&lt;p>2 1-&amp;gt;1 3-&amp;gt;3 4-&amp;gt;4 7-&amp;gt;7 1-&amp;gt;1 8-&amp;gt;8 9-&amp;gt;9 7-&amp;gt;7 6-&amp;gt;6 3-&amp;gt;3 9-&amp;gt;9 2-&amp;gt;2 1&lt;/p>&lt;/blockquote>
&lt;h3 id="流局中的数学">流局中的数学
&lt;/h3>&lt;p>前面我们已经讨论过，流局只发生在双方都只剩一只手的情况下。&lt;/p>
&lt;p>这是一个相对平凡的情况，比较适合进行一个数学建模。
当两个人都只有一只手时，下面这个矩阵可以代表全部的起始情况：&lt;/p>
&lt;p>let E =&lt;/p>
&lt;p>[2 3 4 5 6 7 8 9 0]&lt;/p>
&lt;p>[3 4 5 6 7 8 9 0 1]&lt;/p>
&lt;p>[4 5 6 7 8 9 0 1 2]&lt;/p>
&lt;p>[5 6 7 8 9 0 1 2 3]&lt;/p>
&lt;p>[6 7 8 9 0 1 2 3 4]&lt;/p>
&lt;p>[7 8 9 0 1 2 3 4 5]&lt;/p>
&lt;p>[8 9 0 1 2 3 4 5 6]&lt;/p>
&lt;p>[9 0 1 2 3 4 5 6 7]&lt;/p>
&lt;p>[0 1 2 3 4 5 6 7 8]&lt;/p>
&lt;p>其中：Eij表示p1为i p2为j时 p1先手相加后p1的结果&lt;/p>
&lt;blockquote>
&lt;p>比如说，E11=2，意思就是，当我手上是1，你手上也是1的时候，我一碰你我就变成2了&lt;/p>&lt;/blockquote>
&lt;p>这是一个满秩的矩阵（雾）&lt;/p>
&lt;p>每一次加法的本质是一次行变换/列变换，具体来说，比如i从1变成了2，本质上就是第一行与第二行交换 而这是不改变矩阵的秩的&lt;/p>
&lt;p>游戏的结束条件是当E（1，1）变成0时，自己是后手&lt;/p>
&lt;p>也许从这里出发可以得到这个游戏的“最优策略”，但是一心泡在那个流局上的我今天不想研究他了（雾），欢迎有兴趣的朋友issue我，我们一起继续玩&lt;/p>
&lt;p>我们把导致流局的起始条件在矩阵中标黑，我们就会得到一个很有趣的矩阵：
(这里如果开了暗色模式很可能看不清楚，建议切换一下，让你们看看这个淡粉色的主题)&lt;/p>
&lt;p>[2 3 &lt;strong>4&lt;/strong> 5 6 7 8 &lt;strong>9&lt;/strong> 0]&lt;/p>
&lt;p>[&lt;strong>3&lt;/strong> 4 5 6 7 8 9 0 1]&lt;/p>
&lt;p>[4 5 6 &lt;strong>7&lt;/strong> 8 9 0 1 &lt;strong>2&lt;/strong>]&lt;/p>
&lt;p>[5 6 7 8 9 0 &lt;strong>1&lt;/strong> 2 3]&lt;/p>
&lt;p>[6 7 8 9 0 1 2 3 4]&lt;/p>
&lt;p>[7 8 &lt;strong>9&lt;/strong> 0 1 2 3 4 5]&lt;/p>
&lt;p>[&lt;strong>8&lt;/strong> 9 0 1 2 &lt;strong>3&lt;/strong> 4 5 6]&lt;/p>
&lt;p>[9 0 1 2 3 4 5 6 &lt;strong>7&lt;/strong>]&lt;/p>
&lt;p>[0 &lt;strong>1&lt;/strong> 2 3 4 5 &lt;strong>6&lt;/strong> 7 8]&lt;/p>
&lt;p>至此我们部分解决了之前的一个问题：为什么流局的概率高达百分之十几&lt;/p>
&lt;blockquote>
&lt;p>展开解释一下：&lt;/p>
&lt;p>这个矩阵中，每一个值都代表着一种“游戏状态”。比如E13，就代表着当一只手是1，另一只手是3的时候，1的那只手先手，接下来会得到的值是E13。
那么在全部的9*9=81这么大的概率空间内，有足足12个点会导致进入流局循环。这也就意味着，我们假设在游戏变成一只手对一只手的时候，出现这81种局面的概率相同，那么游戏就有12/81的概率进入流局循环，最终流局。
这个概率约等于14.8%，比我们测出来的还要高。
不匹配的原因显然是出现这81种局面的概率并不相同。&lt;/p>
&lt;p>具体从我们的1，1，1，1开局发展到这八十一种情况的概率怎么计算，我目前还没有想通。&lt;/p>&lt;/blockquote>
&lt;p>然后自然而然的会提出以下几个问题：&lt;/p>
&lt;ul>
&lt;li>为什么中心对称：坐标和互补的两个坐标，如果一个坐标会流局，那么另一个坐标也会。如果一个不会，那么另一个也不会。这个问题我也没有解决。&lt;/li>
&lt;li>还有没有别的循环：这个问题比较朴素，由于一只手+一只手不存在“选择”的余地，暴力求解可知，不再有别的循环&lt;/li>
&lt;li>为什么这一组循环会导致流局：这涉及到流局的本质，这个问题被我解决了，诸位看官请看。&lt;/li>
&lt;/ul>
&lt;h3 id="流局的本质">流局的本质
&lt;/h3>&lt;p>让我们观察这个序列，不难发现它是一个有点意思的，性质类似于斐波那契数列的数对列&lt;/p>
&lt;p>2 1-&amp;gt;3 1-&amp;gt;3 4-&amp;gt;7 4-&amp;gt;7 1-&amp;gt;8 1-&amp;gt;8 9-&amp;gt;7 9-&amp;gt;7 6-&amp;gt;3 6-&amp;gt;3 9-&amp;gt;2 9-&amp;gt;2 1&lt;/p>
&lt;p>其中&lt;/p>
&lt;blockquote>
&lt;p>A11=2 A12=1&lt;/p>
&lt;p>A21=A12&lt;/p>
&lt;p>A22=A11+A12&lt;/p>
&lt;p>An1 = A(n-1)2&lt;/p>
&lt;p>An2=A(n-1)1+A(n-1)2&lt;/p>&lt;/blockquote>
&lt;p>把这些可恶的重复去掉之后，我们得到了这样的一个数列：&lt;/p>
&lt;p>2，1，3，4，7，1，8，9，7，6，3，9，2，1&lt;/p>
&lt;p>前面的数对形式来自于我们以步长为1，去拿相邻的两个数。&lt;/p>
&lt;p>这个数列：&lt;/p>
&lt;ul>
&lt;li>对10取模&lt;/li>
&lt;li>前两项与斐波那契数列不同&lt;/li>
&lt;/ul>
&lt;p>其他性质与斐波那契数列基本相同&lt;/p>
&lt;p>经过检验后发现，只有前两项是这两个小倒霉时，这个数列才会在无尽的相加之中永远不出现尾数0，也就意味着永远无法达成凑出10让游戏结束的真实。&lt;/p>
&lt;p>这就是这个游戏流局背后的数学啦。&lt;/p>
&lt;p>奇妙的是，我当然不是第一个发现以这两个数字开头的斐波那契数列性质比较特殊的人。&lt;/p>
&lt;p>第一个发现的人叫卢卡斯(Lucas)，大家感兴趣可以去搜一下Lucas sequence，它在解决斐波那契的相关问题中表现极为突出。
我们面对的这个数列就是它，只是被mod10了。&lt;/p>
&lt;h2 id="写在最后">写在最后
&lt;/h2>&lt;p>我很爱这种探索的过程，即使儿时的游戏也能带给我无尽的快乐和挑战。
还有好多相关工作没有完成！&lt;/p>
&lt;p>其实有点玩物丧志，如果这两天工作顺利，有空闲时间的话，我会回来继续更新的&lt;/p>
&lt;h2 id="开个源">开个源
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;span class="lnt">219
&lt;/span>&lt;span class="lnt">220
&lt;/span>&lt;span class="lnt">221
&lt;/span>&lt;span class="lnt">222
&lt;/span>&lt;span class="lnt">223
&lt;/span>&lt;span class="lnt">224
&lt;/span>&lt;span class="lnt">225
&lt;/span>&lt;span class="lnt">226
&lt;/span>&lt;span class="lnt">227
&lt;/span>&lt;span class="lnt">228
&lt;/span>&lt;span class="lnt">229
&lt;/span>&lt;span class="lnt">230
&lt;/span>&lt;span class="lnt">231
&lt;/span>&lt;span class="lnt">232
&lt;/span>&lt;span class="lnt">233
&lt;/span>&lt;span class="lnt">234
&lt;/span>&lt;span class="lnt">235
&lt;/span>&lt;span class="lnt">236
&lt;/span>&lt;span class="lnt">237
&lt;/span>&lt;span class="lnt">238
&lt;/span>&lt;span class="lnt">239
&lt;/span>&lt;span class="lnt">240
&lt;/span>&lt;span class="lnt">241
&lt;/span>&lt;span class="lnt">242
&lt;/span>&lt;span class="lnt">243
&lt;/span>&lt;span class="lnt">244
&lt;/span>&lt;span class="lnt">245
&lt;/span>&lt;span class="lnt">246
&lt;/span>&lt;span class="lnt">247
&lt;/span>&lt;span class="lnt">248
&lt;/span>&lt;span class="lnt">249
&lt;/span>&lt;span class="lnt">250
&lt;/span>&lt;span class="lnt">251
&lt;/span>&lt;span class="lnt">252
&lt;/span>&lt;span class="lnt">253
&lt;/span>&lt;span class="lnt">254
&lt;/span>&lt;span class="lnt">255
&lt;/span>&lt;span class="lnt">256
&lt;/span>&lt;span class="lnt">257
&lt;/span>&lt;span class="lnt">258
&lt;/span>&lt;span class="lnt">259
&lt;/span>&lt;span class="lnt">260
&lt;/span>&lt;span class="lnt">261
&lt;/span>&lt;span class="lnt">262
&lt;/span>&lt;span class="lnt">263
&lt;/span>&lt;span class="lnt">264
&lt;/span>&lt;span class="lnt">265
&lt;/span>&lt;span class="lnt">266
&lt;/span>&lt;span class="lnt">267
&lt;/span>&lt;span class="lnt">268
&lt;/span>&lt;span class="lnt">269
&lt;/span>&lt;span class="lnt">270
&lt;/span>&lt;span class="lnt">271
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;time.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">log&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">ls1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">rs1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">ls2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">rs2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">from_to_flag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ls1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rs1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ls2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rs2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">from_to_flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">traverse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">ls1&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">rs1&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">ls2&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">rs2&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">from_to_flag&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p1先手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p2先手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">player&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">lexist&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">rexist&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">player&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lscore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rscore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">end&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lscore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rscore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">score_tidy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">player&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">move&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">player&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">player&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">fromFlag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rand&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">toFlag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rand&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//行动者只剩左手
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;行动者只有左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">toFlag&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//行动者只剩右手
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;行动者只有右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">toFlag&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//行动者由fromFlag决定
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fromFlag&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;行动者使用左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">toFlag&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;行动者使用右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rexist&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;对方只有右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">toFlag&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方左手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;触碰对方右手&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">score_tidy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">seed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">srand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">seed&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">fail_log&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">player&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">player&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">player&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">player&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">episode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">p1_scoreboard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">p2_scoreboard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">fail_scoreboard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">total_episode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;轮数: &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">episode&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;局数：&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">episode&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p1行动&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">move&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p2行动&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">move&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">episode&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">p1_scoreboard&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">total_episode&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">episode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p1 won!&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">p2_scoreboard&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">total_episode&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">episode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;p2 won!&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">episode&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">l&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lscore&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rscore&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">episode&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fail_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">fail_scoreboard&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;endless routine&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">episode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">episode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">step&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;总轮数为：&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">total_episode&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p1_scoreboard&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">p2_scoreboard&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">fail_scoreboard&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">fail_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;第&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;次流局情况如下：&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fail_log&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">traverse&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item></channel></rss>